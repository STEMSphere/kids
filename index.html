<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>STEMSphere Kids Academy | Elite Learning for Ages 6-10 | Future Leaders Start Here</title>
  <meta name="description" content="Award-winning small group classes for kids ages 6-10. Public Speaking, Math, STEM Science & Coding. Preparing tomorrow's leaders today. 12-week programs from $799.">
  
  <link rel="icon" type="image/png" sizes="32x32" href="https://learn.stemsphere.academy/assets/favconsp1.2.png">
  
  <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '580774084540990');
    fbq('track', 'PageView');
  </script>
  <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=580774084540990&ev=PageView&noscript=1"
  /></noscript>

  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-17612604770"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'AW-17612604770');
  </script>
  
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    :root {
      --primary-purple: #667eea;
      --primary-dark: #764ba2;
      --accent-blue: #4A90E2;
      --accent-teal: #00c6ff;
      --accent-orange: #FF6B35;
      --accent-yellow: #FFC107;
      --success-green: #00ff88;
      --text-dark: #1a1a2e;
      --text-medium: #4a4a68;
      --text-light: #7F8C8D;
      --bg-dark: #0f0c29;
      --bg-section: #16213e;
      --white: #FFFFFF;
    }
    
    body {
      font-family: 'Inter', 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
      color: var(--text-dark);
      background: var(--white);
      line-height: 1.6;
      overflow-x: hidden;
    }

    /* Language Translator */
    #fallback-translator {
      position: fixed;
      top: 10px;
      right: 10px;
      background: rgba(255,255,255,0.95);
      padding: 6px 10px;
      border-radius: 6px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      z-index: 9999;
      backdrop-filter: blur(10px);
    }

    #fallback-translator select {
      font-size: 14px;
      padding: 5px 8px;
      border: none;
      border-radius: 4px;
      background: #fff;
      cursor: pointer;
    }

    /* Login Link */
    .login-link {
      position: fixed;
      top: 55px;
      right: 10px;
      z-index: 9998;
      background: linear-gradient(135deg, #007bff, #0056b3);
      color: #fff;
      padding: 10px 20px;
      border-radius: 6px;
      text-decoration: none;
      font-weight: 600;
      font-size: 0.95em;
      box-shadow: 0 4px 12px rgba(0,123,255,0.4);
      transition: all 0.3s;
    }

    .login-link:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0,123,255,0.6);
    }

    /* Header */
    header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 1.5rem 5%;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    
    .header-content {
      max-width: 1400px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 1rem;
    }
    
    .logo-section {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    .logo-section img {
      width: 50px;
      height: 50px;
      border-radius: 12px;
    }
    
    .brand-text h1 {
      font-size: 1.8em;
      margin: 0;
      background: linear-gradient(to right, #FFF, #FFE66D);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .brand-text p {
      font-size: 0.9em;
      margin: 0;
      opacity: 0.95;
      font-weight: 600;
    }

    /* Hero Section */
    .hero {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
      padding: 60px 5% 50px;
      text-align: center;
      color: white;
      position: relative;
      overflow: hidden;
    }
    
    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="%23ffffff" fill-opacity="0.08" d="M0,96L48,112C96,128,192,160,288,160C384,160,480,128,576,122.7C672,117,768,139,864,154.7C960,171,1056,181,1152,165.3C1248,149,1344,107,1392,85.3L1440,64L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>') no-repeat bottom;
      background-size: cover;
    }
    
    .hero-content {
      max-width: 1200px;
      margin: 0 auto;
      position: relative;
      z-index: 2;
    }
    
    .hero h2 {
      font-size: clamp(2.5rem, 6vw, 4rem);
      margin-bottom: 15px;
      font-weight: 800;
      letter-spacing: -1px;
      animation: fadeInUp 0.8s ease;
      text-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }
    
    .age-badge {
      display: inline-block;
      background: linear-gradient(135deg, #FFD700, #FFA500);
      color: var(--text-dark);
      padding: 12px 35px;
      border-radius: 50px;
      font-weight: 800;
      font-size: 1.2em;
      margin: 15px 0;
      box-shadow: 0 8px 20px rgba(255, 193, 7, 0.5);
      letter-spacing: 0.5px;
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Video Section */
    .video-section {
      max-width: 1200px;
      margin: -30px auto 0;
      padding: 0 5%;
      position: relative;
      z-index: 3;
    }
    
    .video-container {
      background: var(--text-dark);
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 25px 70px rgba(0, 0, 0, 0.4);
      aspect-ratio: 16/9;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      border: 3px solid rgba(255,255,255,0.1);
    }
    
    .video-container video {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    /* CTA Section */
    #highIntentCTA {
      position: relative;
      text-align: center;
      margin: 4rem auto;
      padding: 0 1rem;
    }

    #highIntentCTA button, #highIntentCTA a {
      display: inline-block;
      background: linear-gradient(135deg, #ff0000, #ff6b6b);
      color: #fff;
      font-size: clamp(1.1rem, 3vw, 1.5rem);
      font-weight: 800;
      padding: 1.3rem 3rem;
      border-radius: 12px;
      text-decoration: none;
      border: none;
      cursor: pointer;
      box-shadow: 0 12px 35px rgba(255,0,0,0.5);
      transition: all 0.3s;
      position: relative;
      z-index: 1;
      margin: 0.5rem;
      letter-spacing: 0.5px;
    }

    #highIntentCTA button:hover, #highIntentCTA a:hover {
      transform: translateY(-5px);
      box-shadow: 0 18px 45px rgba(255,0,0,0.7);
    }

    #liveChatBtn {
      background: linear-gradient(135deg, #00ff88, #00c853) !important;
      color: #000 !important;
      box-shadow: 0 12px 35px rgba(0,255,136,0.5) !important;
    }

    #liveChatBtn:hover {
      box-shadow: 0 18px 45px rgba(0,255,136,0.7) !important;
    }

    #highIntentCTA::before {
      content: "‚¨á‚¨á‚¨á";
      position: absolute;
      top: -50px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 2rem;
      color: var(--primary-purple);
      text-shadow: 0 0 15px rgba(102, 126, 234, 0.6);
      animation: bounce 1.5s infinite;
    }

    @keyframes bounce {
      0%, 100% { transform: translate(-50%, 0); }
      50% { transform: translate(-50%, 10px); }
    }

    #advisorStatusIndicator {
      margin: 1rem auto;
      text-align: center;
    }

    #advisorStatusIndicator span {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.75rem 1.5rem;
      background: rgba(0,255,136,0.15);
      border: 2px solid #00ff88;
      border-radius: 8px;
      color: var(--text-dark);
      font-weight: 700;
      font-size: 1.05em;
    }

    #advisorStatusIndicator .status-dot {
      width: 12px;
      height: 12px;
      background: #00ff88;
      border-radius: 50%;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.6; transform: scale(1.3); }
    }

    /* Reviews Container */
    #reviews-container {
      background: linear-gradient(135deg, rgba(102,126,234,0.1), rgba(118,75,162,0.1));
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 3rem 2rem;
      margin: 3rem auto;
      max-width: 1000px;
      box-shadow: 0 15px 40px rgba(0,0,0,0.1);
      border: 2px solid rgba(102,126,234,0.2);
    }

    #reviews-container h3 {
      font-size: 2.2rem;
      margin-bottom: 1rem;
      color: var(--primary-purple);
      font-weight: 800;
    }

    #reviews-container button {
      background: none;
      border: none;
      color: var(--primary-purple) !important;
      cursor: pointer;
      font-size: 1em;
      text-decoration: underline;
      font-weight: 600;
      transition: all 0.3s;
    }

    #reviews-container button:hover {
      color: var(--accent-teal) !important;
    }

    #reviews-body {
      background: rgba(255,255,255,0.5);
      border-radius: 16px;
      padding: 2rem;
      margin-top: 1.5rem;
      border: 1px solid rgba(102,126,234,0.2);
    }

    /* Speaking Spotlight Section */
    .speaking-spotlight {
      padding: 100px 5%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #667eea 100%);
      color: white;
      position: relative;
      overflow: hidden;
    }
    
    .speaking-spotlight::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="%23ffffff" fill-opacity="0.06" d="M0,160L48,144C96,128,192,96,288,106.7C384,117,480,171,576,165.3C672,160,768,96,864,80C960,64,1056,96,1152,122.7C1248,149,1344,171,1392,181.3L1440,192L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>') no-repeat bottom;
      background-size: cover;
    }
    
    .speaking-container {
      max-width: 1400px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 80px;
      align-items: center;
      position: relative;
      z-index: 2;
    }
    
    .speaking-image {
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 25px 70px rgba(0, 0, 0, 0.5);
      border: 3px solid rgba(255,255,255,0.2);
    }
    
    .speaking-image img {
      width: 100%;
      height: auto;
      display: block;
      transition: transform 0.5s;
    }

    .speaking-image:hover img {
      transform: scale(1.05);
    }
    
    .speaking-badge {
      display: inline-block;
      background: var(--accent-orange);
      color: white;
      padding: 12px 30px;
      border-radius: 50px;
      font-weight: 800;
      font-size: 0.95em;
      margin-bottom: 25px;
      box-shadow: 0 8px 20px rgba(255, 107, 53, 0.5);
      letter-spacing: 0.5px;
    }
    
    .speaking-content h2 {
      font-size: 3em;
      margin-bottom: 30px;
      line-height: 1.2;
      font-weight: 800;
      letter-spacing: -0.5px;
    }
    
    .speaking-lead {
      font-size: 1.35em;
      margin-bottom: 35px;
      opacity: 0.98;
      line-height: 1.7;
      font-weight: 500;
    }
    
    .stat-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 30px;
      margin: 40px 0;
    }
    
    .stat-box {
      background: rgba(255, 255, 255, 0.12);
      backdrop-filter: blur(15px);
      padding: 30px;
      border-radius: 16px;
      border: 2px solid rgba(255, 255, 255, 0.25);
      transition: all 0.3s;
    }

    .stat-box:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 35px rgba(0,0,0,0.3);
    }
    
    .stat-number {
      font-size: 3.5em;
      font-weight: 800;
      color: var(--accent-yellow);
      margin-bottom: 12px;
      letter-spacing: -1px;
    }
    
    .stat-label {
      font-size: 1.15em;
      opacity: 0.95;
      line-height: 1.4;
    }
    
    .speaking-points {
      list-style: none;
      margin: 35px 0;
    }
    
    .speaking-points li {
      padding: 18px 0;
      padding-left: 45px;
      position: relative;
      font-size: 1.2em;
      line-height: 1.7;
      font-weight: 500;
    }
    
    .speaking-points li::before {
      content: '‚úì';
      position: absolute;
      left: 0;
      color: var(--success-green);
      font-size: 1.6em;
      font-weight: 800;
      text-shadow: 0 2px 8px rgba(0,255,136,0.4);
    }
    
    .speaking-cta {
      display: inline-block;
      padding: 20px 50px;
      background: var(--accent-orange);
      color: white;
      text-decoration: none;
      border-radius: 50px;
      font-weight: 800;
      font-size: 1.25em;
      margin-top: 30px;
      transition: all 0.3s;
      box-shadow: 0 10px 30px rgba(255, 107, 53, 0.5);
      letter-spacing: 0.5px;
    }
    
    .speaking-cta:hover {
      background: white;
      color: var(--accent-orange);
      transform: translateY(-5px);
      box-shadow: 0 15px 40px rgba(255, 107, 53, 0.6);
    }

    /* Mobile Responsiveness */
    @media (max-width: 768px) {
      .hero h2 { font-size: 2em; }
      .speaking-container { grid-template-columns: 1fr; gap: 40px; }
      #fallback-translator { position: static; margin: 10px auto; width: fit-content; }
      .login-link { top: 60px; font-size: 0.85em; padding: 8px 15px; }
      .stat-grid { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>

<!-- üç™ COOKIE CONSENT BANNER - Matching Main Site -->
<div id="cookieConsentBanner" style="display: none; position: fixed; bottom: 0; left: 0; right: 0; background: linear-gradient(135deg, rgba(102,126,234,0.98), rgba(118,75,162,0.98)); backdrop-filter: blur(10px); color: #fff; padding: 0.75rem; z-index: 99999; box-shadow: 0 -2px 10px rgba(0,0,0,0.3); border-top: 2px solid #00ff88;">
  <div style="max-width: 1200px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; gap: 0.75rem; flex-wrap: wrap;">
    
    <div style="flex: 1; min-width: 250px;" id="cookieFullText">
      <div style="display: flex; align-items: center; gap: 0.5rem;">
        <div style="font-size: 1.5rem;">üç™</div>
        <div>
          <p style="margin: 0 0 0.25rem 0; font-weight: 700; font-size: 0.85em;">
            We Value Your Privacy
          </p>
          <p style="margin: 0; font-size: 0.75em; line-height: 1.4; opacity: 0.95;">
            We use cookies to improve your experience. By clicking "Accept", you consent to our use of cookies.
            <a href="/privacy.html" style="color: #00ff88; text-decoration: underline; font-weight: 600;">Learn more</a>
          </p>
        </div>
      </div>
    </div>

    <div style="flex: 1; display: none;" id="cookieMobileText">
      <div style="display: flex; align-items: center; gap: 0.5rem; font-size: 0.85em;">
        <span>üç™</span>
        <span style="font-weight: 600;">We use cookies</span>
      </div>
    </div>

    <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;" id="cookieButtons">
      <button onclick="acceptAllCookies()" style="background: linear-gradient(135deg, #00ff88, #00c853); color: #000; padding: 0.5rem 1.25rem; border: none; border-radius: 6px; font-weight: 700; font-size: 0.8em; cursor: pointer; box-shadow: 0 2px 8px rgba(0,255,136,0.4); transition: all 0.3s; white-space: nowrap;">
        ‚úì Accept
      </button>
      <button onclick="rejectCookies()" style="background: rgba(255,255,255,0.2); color: #fff; padding: 0.5rem 1.25rem; border: 1px solid rgba(255,255,255,0.5); border-radius: 6px; font-weight: 700; font-size: 0.8em; cursor: pointer; transition: all 0.3s; white-space: nowrap;">
        ‚úó Reject
      </button>
      <button onclick="openCookieSettings()" style="background: none; color: #fff; padding: 0.5rem 1rem; border: 1px solid rgba(255,255,255,0.5); border-radius: 6px; font-weight: 600; font-size: 0.8em; cursor: pointer; transition: all 0.3s; white-space: nowrap;">
        ‚öôÔ∏è More
      </button>
    </div>
  </div>
</div>

<!-- üç™ COOKIE SETTINGS MODAL -->
<div id="cookieSettingsModal" style="display: none; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.85); z-index: 100000; align-items: center; justify-content: center; padding: 1rem; overflow-y: auto;">
  <div style="background: linear-gradient(135deg, #1a1a2e, #16213e); border: 3px solid #667eea; border-radius: 16px; max-width: 700px; width: 100%; max-height: 90vh; overflow-y: auto; box-shadow: 0 20px 60px rgba(0,0,0,0.5);">
    
    <div style="background: linear-gradient(135deg, #667eea, #764ba2); padding: 2rem; border-radius: 13px 13px 0 0; position: relative;">
      <button onclick="closeCookieSettings()" style="position: absolute; top: 1rem; right: 1rem; background: rgba(255,255,255,0.2); color: #fff; border: none; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; font-size: 1.5em; font-weight: 700; transition: all 0.3s;">√ó</button>
      <h2 style="margin: 0 0 0.5rem 0; color: #fff; font-size: 1.8em;">üç™ Cookie Settings</h2>
      <p style="margin: 0; color: rgba(255,255,255,0.9); font-size: 0.95em;">Manage your cookie preferences</p>
    </div>

    <div style="padding: 2rem;">
      
      <div style="background: rgba(255,255,255,0.05); border: 2px solid rgba(255,255,255,0.1); border-radius: 12px; padding: 1.5rem; margin-bottom: 1.5rem;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
          <h3 style="margin: 0; color: #00ff88; font-size: 1.3em;">‚úì Essential Cookies</h3>
          <span style="background: rgba(0,255,136,0.2); color: #00ff88; padding: 0.4rem 1rem; border-radius: 20px; font-size: 0.85em; font-weight: 700;">Always Active</span>
        </div>
        <p style="margin: 0; color: rgba(255,255,255,0.8); line-height: 1.6;">
          Required for the website to function properly. These cannot be disabled.
        </p>
      </div>

      <div style="background: rgba(255,255,255,0.05); border: 2px solid rgba(255,255,255,0.1); border-radius: 12px; padding: 1.5rem; margin-bottom: 1.5rem;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
          <h3 style="margin: 0; color: #fff; font-size: 1.3em;">üìä Analytics Cookies</h3>
          <label style="position: relative; display: inline-block; width: 60px; height: 30px; cursor: pointer;">
            <input type="checkbox" id="analyticsCookies" checked style="opacity: 0; width: 0; height: 0;">
            <span style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: #667eea; border-radius: 30px; transition: 0.3s;" id="analyticsToggle"></span>
            <span style="position: absolute; content: ''; height: 22px; width: 22px; left: 4px; bottom: 4px; background: white; border-radius: 50%; transition: 0.3s;" id="analyticsSlider"></span>
          </label>
        </div>
        <p style="margin: 0; color: rgba(255,255,255,0.8); line-height: 1.6;">
          Help us understand how visitors interact with our website.
        </p>
      </div>

      <div style="background: rgba(255,255,255,0.05); border: 2px solid rgba(255,255,255,0.1); border-radius: 12px; padding: 1.5rem; margin-bottom: 1.5rem;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
          <h3 style="margin: 0; color: #fff; font-size: 1.3em;">üéØ Marketing Cookies</h3>
          <label style="position: relative; display: inline-block; width: 60px; height: 30px; cursor: pointer;">
            <input type="checkbox" id="marketingCookies" checked style="opacity: 0; width: 0; height: 0;">
            <span style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: #667eea; border-radius: 30px; transition: 0.3s;" id="marketingToggle"></span>
            <span style="position: absolute; content: ''; height: 22px; width: 22px; left: 4px; bottom: 4px; background: white; border-radius: 50%; transition: 0.3s;" id="marketingSlider"></span>
          </label>
        </div>
        <p style="margin: 0; color: rgba(255,255,255,0.8); line-height: 1.6;">
          Used to show you relevant ads on Facebook, Google, and other platforms.
        </p>
      </div>

    </div>

    <div style="padding: 0 2rem 2rem; display: flex; gap: 1rem; flex-wrap: wrap;">
      <button onclick="saveCustomCookieSettings()" style="flex: 1; background: linear-gradient(135deg, #00ff88, #00c853); color: #000; padding: 1rem 2rem; border: none; border-radius: 8px; font-weight: 700; font-size: 1em; cursor: pointer; box-shadow: 0 4px 12px rgba(0,255,136,0.4);">
        üíæ Save My Choices
      </button>
      <button onclick="acceptAllFromSettings()" style="flex: 1; background: rgba(255,255,255,0.1); color: #fff; padding: 1rem 2rem; border: 2px solid rgba(255,255,255,0.3); border-radius: 8px; font-weight: 700; font-size: 1em; cursor: pointer;">
        Accept All
      </button>
    </div>

  </div>
</div>

<div id="fallback-translator">
  <select onchange="translatePage(this.value)">
    <option value="en" selected>üåê English</option>
    <option value="es">Espa√±ol</option>
    <option value="fr">Fran√ßais</option>
    <option value="de">Deutsch</option>
    <option value="zh-CN">ÁÆÄ‰Ωì‰∏≠Êñá</option>
    <option value="zh-TW">ÁπÅÈ´î‰∏≠Êñá</option>
    <option value="ja">Êó•Êú¨Ë™û</option>
    <option value="ko">ÌïúÍµ≠Ïñ¥</option>
    <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
    <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
    <option value="pt">Portugu√™s</option>
    <option value="ru">–†—É—Å—Å–∫–∏–π</option>
    <option value="it">Italiano</option>
    <option value="nl">Nederlands</option>
    <option value="pl">Polski</option>
    <option value="tr">T√ºrk√ße</option>
    <option value="vi">Ti·∫øng Vi·ªát</option>
    <option value="th">‡πÑ‡∏ó‡∏¢</option>
    <option value="id">Bahasa Indonesia</option>
    <option value="ms">Bahasa Melayu</option>
  </select>
</div>

<script>
  function translatePage(lang) {
    if (!lang || lang === 'en') return;
    const loc = encodeURIComponent(window.location.href);
    window.location.href = 'https://translate.google.com/translate?sl=en&tl=' + lang + '&u=' + loc;
  }
</script>

<a href="https://learn.stemsphere.academy/login.html" class="login-link">
  üîì Student Login/Signup
</a>

<header>
  <div class="header-content">
    <div class="logo-section">
      <img src="https://learn.stemsphere.academy/assets/favconsp1.2.png" alt="STEMSphere Kids Academy">
      <div class="brand-text">
        <h1>STEMSphere Kids</h1>
        <p>Building Tomorrow's Innovators</p>
      </div>
    </div>
  </div>
</header>

<section class="hero">
  <div class="hero-content">
    <h2>üåü Elite Education for Tomorrow's Leaders</h2>
    <div class="age-badge">Ages 6-10 | Future Leaders Start Here</div>
  </div>
</section>

<section class="video-section">
  <div class="video-container">
    <video controls autoplay muted loop playsinline>
      <source src="https://raw.githubusercontent.com/STEMSphere/kids/main/assets/STEMSPhereAcademyKids.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </div>
</section>

<div id="highIntentCTA">
  <div id="liveChatWrapper" style="display:none; margin-bottom: 1rem;">
    <button onclick="openAnonymousAdvisorChat()" id="liveChatBtn">
      üí¨ Chat with Advisor NOW - Free!
    </button>
  </div>
  
  <div id="advisorStatusIndicator" style="display: none;">
    <span>
      <span class="status-dot"></span>
      Advisor Online Now
    </span>
  </div>
  
  <a href="https://learn.stemsphere.academy/login.html">
    üöÄ Book Your Enrollment Session Now
  </a>
</div>

<div id="reviews-container"></div>

<section class="speaking-spotlight">
  <div class="speaking-container">
    <div class="speaking-image">
      <img src="https://images.unsplash.com/photo-1523580494863-6f3031224c94?w=1200&q=80" alt="Child presenting confidently">
    </div>
    <div class="speaking-content">
      <span class="speaking-badge">üé§ THE SKILL THAT CHANGES EVERYTHING</span>
      <h2>Public Speaking: The Ultimate Confidence Builder</h2>
      <p class="speaking-lead">Confident communication isn't just a skill‚Äîit's a <strong>superpower</strong> that opens every door in life.</p>
      
      <div class="stat-grid">
        <div class="stat-box">
          <div class="stat-number">75%</div>
          <div class="stat-label">of adults fear public speaking more than death</div>
        </div>
        <div class="stat-box">
          <div class="stat-number">3x</div>
          <div class="stat-label">more likely to be hired with strong communication skills</div>
        </div>
      </div>

      <ul class="speaking-points">
        <li>Early training builds unshakeable confidence</li>
        <li>Strong communicators become natural leaders</li>
        <li>Clear articulation = better grades, relationships, and opportunities</li>
        <li>Your child's competitors are already learning this skill</li>
      </ul>

      <a href="#programs" class="speaking-cta">Give Your Child This Advantage ‚Üí</a>
    </div>
  </div>
</section>

</body>
</html>
<!-- PART 2 CONTINUATION - PROGRAMS SECTION ONWARDS -->

<section class="blog-section">
  <div class="blog-header">
    <h2>üî¨ Why Traditional STEM Education Falls Short</h2>
    <p>The hidden problem preventing young minds from reaching their full potential</p>
  </div>
  <div class="blog-grid">
    <div class="blog-image">
      <img src="https://images.unsplash.com/photo-1532094349884-543bc11b234d?w=800&q=80" alt="Kids doing science experiments">
    </div>
    <div class="blog-content">
      <h3>Most Kids Never Discover Their STEM Potential</h3>
      <p>By age 10, <strong>67% of children have already decided they're "not good at science."</strong> Not because they can't do it but because nobody showed them it could be fun, hands on, and exciting.</p>
      <p>Traditional classrooms focus on memorization. We focus on <strong>discovery, experimentation, and real world applications</strong> that make kids say "WOW!" instead of "Why do I need to know this?"</p>
      <ul class="blog-list">
        <li>Live virtual experiments kids can recreate at home</li>
        <li>Engineering challenges that teach problem solving</li>
        <li>Biology, chemistry, and physics made tangible and exciting</li>
        <li>Small groups mean every question gets answered. Curiosity never gets ignored.</li>
      </ul>
      <p><strong>The result?</strong> Kids who can't wait for their next science class. Kids who start asking "how does that work?" about everything around them. Kids who see themselves as future scientists, engineers, and innovators.</p>
    </div>
  </div>
</section>

<style>
.blog-section {
  padding: 80px 5%;
  max-width: 1400px;
  margin: 0 auto;
  background: var(--white);
}

.blog-section.alt-bg {
  background: linear-gradient(135deg, rgba(102,126,234,0.05), rgba(118,75,162,0.05));
}

.blog-header {
  text-align: center;
  margin-bottom: 50px;
}

.blog-header h2 {
  font-size: 2.8em;
  margin-bottom: 20px;
  background: linear-gradient(135deg, var(--primary-purple), var(--primary-dark));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  font-weight: 800;
}

.blog-header p {
  font-size: 1.25em;
  color: var(--text-medium);
  font-weight: 500;
}

.blog-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 60px;
  align-items: center;
}

.blog-grid.reverse {
  direction: rtl;
}

.blog-grid.reverse > * {
  direction: ltr;
}

.blog-image {
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);
  border: 3px solid rgba(102,126,234,0.2);
}

.blog-image img {
  width: 100%;
  height: auto;
  display: block;
  transition: transform 0.5s;
}

.blog-image:hover img {
  transform: scale(1.05);
}

.blog-content h3 {
  font-size: 2.5em;
  margin-bottom: 25px;
  color: var(--text-dark);
  font-weight: 800;
  line-height: 1.2;
}

.blog-content p {
  font-size: 1.2em;
  line-height: 1.8;
  color: var(--text-medium);
  margin-bottom: 25px;
  font-weight: 500;
}

.blog-list {
  list-style: none;
  margin: 30px 0;
}

.blog-list li {
  padding: 15px 0;
  padding-left: 40px;
  position: relative;
  font-size: 1.15em;
  color: var(--text-dark);
  line-height: 1.6;
  font-weight: 500;
}

.blog-list li::before {
  content: '‚Üí';
  position: absolute;
  left: 0;
  color: var(--primary-purple);
  font-weight: 800;
  font-size: 1.4em;
}

.section {
  max-width: 1400px;
  margin: 0 auto;
  padding: 80px 5%;
}

.section-header {
  text-align: center;
  margin-bottom: 60px;
}

.section-header h2 {
  font-size: 3em;
  margin-bottom: 20px;
  background: linear-gradient(135deg, var(--primary-purple), var(--primary-dark));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  font-weight: 800;
}

.section-header p {
  font-size: 1.3em;
  color: var(--text-medium);
  max-width: 800px;
  margin: 0 auto;
  font-weight: 500;
}

.programs-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 50px;
}

.program-card {
  background: white;
  border-radius: 25px;
  overflow: hidden;
  box-shadow: 0 15px 50px rgba(0, 0, 0, 0.1);
  transition: all 0.4s;
  border: 3px solid transparent;
  position: relative;
}

.program-card:hover {
  transform: translateY(-15px);
  box-shadow: 0 25px 70px rgba(102, 126, 234, 0.3);
  border-color: var(--primary-purple);
}

.program-card.featured {
  border-color: var(--accent-orange);
  box-shadow: 0 15px 50px rgba(255, 107, 53, 0.2);
}

.program-badge {
  position: absolute;
  top: 20px;
  right: 20px;
  background: var(--accent-orange);
  color: white;
  padding: 10px 25px;
  border-radius: 25px;
  font-weight: 800;
  font-size: 0.9em;
  box-shadow: 0 6px 20px rgba(255, 107, 53, 0.5);
  z-index: 2;
  letter-spacing: 0.5px;
}

.program-image {
  width: 100%;
  height: 240px;
  object-fit: cover;
}

.program-content {
  padding: 35px;
}

.program-content h3 {
  font-size: 2em;
  margin-bottom: 18px;
  color: var(--text-dark);
  font-weight: 800;
}

.program-content p {
  color: var(--text-medium);
  margin-bottom: 25px;
  line-height: 1.8;
  font-size: 1.1em;
  font-weight: 500;
}

.program-features {
  list-style: none;
  margin-bottom: 30px;
}

.program-features li {
  padding: 12px 0;
  border-bottom: 1px solid rgba(102,126,234,0.1);
  display: flex;
  align-items: center;
  gap: 12px;
  font-size: 1.05em;
  color: var(--text-dark);
  font-weight: 500;
}

.program-features li::before {
  content: '‚úì';
  color: var(--success-green);
  font-weight: 800;
  font-size: 1.3em;
}

.program-cta {
  display: block;
  text-align: center;
  padding: 18px;
  background: linear-gradient(135deg, var(--primary-purple), var(--primary-dark));
  color: white;
  text-decoration: none;
  border-radius: 15px;
  font-weight: 800;
  font-size: 1.15em;
  transition: all 0.3s;
  letter-spacing: 0.5px;
}

.program-cta:hover {
  transform: scale(1.05);
  box-shadow: 0 10px 30px rgba(102, 126, 234, 0.5);
}

@media (max-width: 768px) {
  .blog-grid { 
    grid-template-columns: 1fr; 
    gap: 40px;
  }
  .blog-grid.reverse { direction: ltr; }
}
</style>

<section class="section" id="programs">
  <div class="section-header">
    <h2>üìö Our Elite Programs</h2>
    <p>Each program is a 12 week journey designed to transform your child's future</p>
  </div>
  <div class="programs-grid">
    <div class="program-card featured">
      <span class="program-badge">‚≠ê ALL IN ONE</span>
      <img class="program-image" src="https://images.unsplash.com/photo-1503676382389-4809596d5290?w=800" alt="Mixed Learning Program">
      <div class="program-content">
        <h3>üéØ Ultimate Skills Rotation</h3>
        <p>The COMPLETE package! Weekly rotation through Public Speaking, Math, Science, and Coding. Maximum variety, maximum growth.</p>
        <ul class="program-features">
          <li>Week 1: Public Speaking mastery</li>
          <li>Week 2: Math problem solving</li>
          <li>Week 3: Science experiments</li>
          <li>Week 4: Coding fundamentals</li>
          <li>Continuous skill development</li>
        </ul>
        <a href="#pricing" class="program-cta">Enroll Now ‚Üí</a>
      </div>
    </div>

    <div class="program-card">
      <img class="program-image" src="https://images.unsplash.com/photo-1532094349884-543bc11b234d?w=800" alt="Kids Science Program">
      <div class="program-content">
        <h3>üî¨ Early Junior Scientist Program</h3>
        <p>Ignite curiosity with hands on STEM exploration. Physics, chemistry, biology. Preparing the next generation of innovators.</p>
        <ul class="program-features">
          <li>Live virtual experiments</li>
          <li>Scientific method mastery</li>
          <li>Engineering challenges</li>
          <li>Nature and biology exploration</li>
          <li>Future scientist mindset</li>
        </ul>
        <a href="#pricing" class="program-cta">Enroll Now ‚Üí</a>
      </div>
    </div>

    <div class="program-card">
      <img class="program-image" src="https://images.unsplash.com/photo-1596496050827-8299e0220de1?w=800" alt="Kids Math Program">
      <div class="program-content">
        <h3>üßÆ Math Wizards Academy</h3>
        <p>Make math FUN! Problem solving, logic puzzles, and real world applications that build genuine mathematical confidence.</p>
        <ul class="program-features">
          <li>Game based learning approach</li>
          <li>Critical thinking development</li>
          <li>Competition ready skills</li>
          <li>Mental math mastery</li>
          <li>Advanced problem solving</li>
        </ul>
        <a href="#pricing" class="program-cta">Enroll Now ‚Üí</a>
      </div>
    </div>

    <div class="program-card">
      <img class="program-image" src="https://images.unsplash.com/photo-1475721027785-f74eccf877e2?w=800" alt="Kids Public Speaking">
      <div class="program-content">
        <h3>üé§ Kids Public Speaking Mastery</h3>
        <p>Transform shy kids into confident communicators. Master presentation skills, storytelling, and leadership presence.</p>
        <ul class="program-features">
          <li>Confidence building techniques</li>
          <li>Storytelling and persuasion skills</li>
          <li>Stage presence mastery</li>
          <li>Peer presentation practice</li>
          <li>Leadership communication</li>
        </ul>
        <a href="#pricing" class="program-cta">Enroll Now ‚Üí</a>
      </div>
    </div>
  </div>
</section>

<section class="section" style="background: linear-gradient(135deg, rgba(102,126,234,0.05), rgba(118,75,162,0.05));" id="pricing">
  <div class="section-header">
    <h2>üí∞ Investment in Excellence</h2>
    <p>12 weeks of transformation | Once per week | Mix and match with other subjects</p>
  </div>
  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)); gap: 50px; max-width: 1000px; margin: 0 auto;">
    <div style="background: white; border-radius: 25px; padding: 45px; box-shadow: 0 15px 50px rgba(0,0,0,0.1); transition: all 0.4s; border: 3px solid var(--primary-purple); position: relative;">
      <div style="text-align: center; margin-bottom: 35px; padding-bottom: 30px; border-bottom: 2px solid rgba(102,126,234,0.2);">
        <h3 style="font-size: 2em; margin-bottom: 12px; color: var(--primary-purple); font-weight: 800;">Trio Interactive</h3>
        <p style="color: var(--text-medium); font-size: 1em; font-weight: 600;">Exclusive 3 Student Experience</p>
      </div>
      <div style="text-align: center; margin: 30px 0;">
        <div style="font-size: 3.5em; font-weight: 800; color: var(--primary-dark);">
          <span style="font-size: 0.5em; vertical-align: super;">$</span>995
        </div>
        <span style="display: block; color: var(--text-medium); font-size: 1em; margin-top: 8px; font-weight: 600;">12 Classes (3 Months)</span>
      </div>
      <ul style="list-style: none; margin: 35px 0;">
        <li style="padding: 14px 0; display: flex; align-items: center; gap: 14px; color: var(--text-dark); font-size: 1.05em; font-weight: 500;">
          <span style="color: var(--success-green); font-weight: 800; font-size: 1.4em; flex-shrink: 0;">‚úì</span>
          <span>Just 3 students per class</span>
        </li>
        <li style="padding: 14px 0; display: flex; align-items: center; gap: 14px; color: var(--text-dark); font-size: 1.05em; font-weight: 500;">
          <span style="color: var(--success-green); font-weight: 800; font-size: 1.4em; flex-shrink: 0;">‚úì</span>
          <span>Maximum personalized attention</span>
        </li>
        <li style="padding: 14px 0; display: flex; align-items: center; gap: 14px; color: var(--text-dark); font-size: 1.05em; font-weight: 500;">
          <span style="color: var(--success-green); font-weight: 800; font-size: 1.4em; flex-shrink: 0;">‚úì</span>
          <span>Deep peer collaboration</span>
        </li>
        <li style="padding: 14px 0; display: flex; align-items: center; gap: 14px; color: var(--text-dark); font-size: 1.05em; font-weight: 500;">
          <span style="color: var(--success-green); font-weight: 800; font-size: 1.4em; flex-shrink: 0;">‚úì</span>
          <span>Flexible scheduling priority</span>
        </li>
        <li style="padding: 14px 0; display: flex; align-items: center; gap: 14px; color: var(--text-dark); font-size: 1.05em; font-weight: 500;">
          <span style="color: var(--success-green); font-weight: 800; font-size: 1.4em; flex-shrink: 0;">‚úì</span>
          <span>Custom learning pace</span>
        </li>
        <li style="padding: 14px 0; display: flex; align-items: center; gap: 14px; color: var(--text-dark); font-size: 1.05em; font-weight: 500;">
          <span style="color: var(--success-green); font-weight: 800; font-size: 1.4em; flex-shrink: 0;">‚úì</span>
          <span>Weekly progress reports</span>
        </li>
        <li style="padding: 14px 0; display: flex; align-items: center; gap: 14px; color: var(--text-dark); font-size: 1.05em; font-weight: 500;">
          <span style="color: var(--success-green); font-weight: 800; font-size: 1.4em; flex-shrink: 0;">‚úì</span>
          <span>Direct parent communication</span>
        </li>
      </ul>
      <a href="https://learn.stemsphere.academy/login.html" style="display: block; text-align: center; padding: 20px; background: linear-gradient(135deg, var(--primary-purple), var(--primary-dark)); color: white; text-decoration: none; border-radius: 15px; font-weight: 800; font-size: 1.25em; transition: all 0.3s; margin-top: 30px; letter-spacing: 0.5px;">Book Free Enrollment Session ‚Üí</a>
    </div>

    <div style="background: white; border-radius: 25px; padding: 45px; box-shadow: 0 15px 50px rgba(0,0,0,0.1); transition: all 0.4s; border: 3px solid var(--accent-orange); position: relative; transform: scale(1.05);">
      <span style="position: absolute; top: -18px; left: 50%; transform: translateX(-50%); background: var(--accent-orange); color: white; padding: 10px 30px; border-radius: 25px; font-weight: 800; font-size: 0.95em; box-shadow: 0 6px 20px rgba(255,107,53,0.5); letter-spacing: 0.5px;">üèÜ BEST VALUE</span>
      <div style="text-align: center; margin-bottom: 35px; padding-bottom: 30px; border-bottom: 2px solid rgba(102,126,234,0.2);">
        <h3 style="font-size: 2em; margin-bottom: 12px; color: var(--primary-purple); font-weight: 800;">Small Group Interactive</h3>
        <p style="color: var(--text-medium); font-size: 1em; font-weight: 600;">Optimal Learning Community</p>
      </div>
      <div style="text-align: center; margin: 30px 0;">
        <div style="font-size: 3.5em; font-weight: 800; color: var(--primary-dark);">
          <span style="font-size: 0.5em; vertical-align: super;">$</span>799
        </div>
        <span style="display: block; color: var(--text-medium); font-size: 1em; margin-top: 8px; font-weight: 600;">12 Classes (3 Months)</span>
      </div>
      <ul style="list-style: none; margin: 35px 0;">
        <li style="padding: 14px 0; display: flex; align-items: center; gap: 14px; color: var(--text-dark); font-size: 1.05em; font-weight: 500;">
          <span style="color: var(--success-green); font-weight: 800; font-size: 1.4em; flex-shrink: 0;">‚úì</span>
          <span>6 students per class</span>
        </li>
        <li style="padding: 14px 0; display: flex; align-items: center; gap: 14px; color: var(--text-dark); font-size: 1.05em; font-weight: 500;">
          <span style="color: var(--success-green); font-weight: 800; font-size: 1.4em; flex-shrink: 0;">‚úì</span>
          <span>Perfect balance of attention and community</span>
        </li>
        <li style="padding: 14px 0; display: flex; align-items: center; gap: 14px; color: var(--text-dark); font-size: 1.05em; font-weight: 500;">
          <span style="color: var(--success-green); font-weight: 800; font-size: 1.4em; flex-shrink: 0;">‚úì</span>
          <span>Rich peer learning experiences</span>
        </li>
        <li style="padding: 14px 0; display: flex; align-items: center; gap: 14px; color: var(--text-dark); font-size: 1.05em; font-weight: 500;">
          <span style="color: var(--success-green); font-weight: 800; font-size: 1.4em; flex-shrink: 0;">‚úì</span>
          <span>Team projects and collaboration</span>
        </li>
        <li style="padding: 14px 0; display: flex; align-items: center; gap: 14px; color: var(--text-dark); font-size: 1.05em; font-weight: 500;">
          <span style="color: var(--success-green); font-weight: 800; font-size: 1.4em; flex-shrink: 0;">‚úì</span>
          <span>Social skills development</span>
        </li>
        <li style="padding: 14px 0; display: flex; align-items: center; gap: 14px; color: var(--text-dark); font-size: 1.05em; font-weight: 500;">
          <span style="color: var(--success-green); font-weight: 800; font-size: 1.4em; flex-shrink: 0;">‚úì</span>
          <span>Monthly parent updates</span>
        </li>
        <li style="padding: 14px 0; display: flex; align-items: center; gap: 14px; color: var(--text-dark); font-size: 1.05em; font-weight: 500;">
          <span style="color: var(--success-green); font-weight: 800; font-size: 1.4em; flex-shrink: 0;">‚úì</span>
          <span>Certificate of completion</span>
        </li>
      </ul>
      <a href="https://learn.stemsphere.academy/login.html" style="display: block; text-align: center; padding: 20px; background: linear-gradient(135deg, var(--primary-purple), var(--primary-dark)); color: white; text-decoration: none; border-radius: 15px; font-weight: 800; font-size: 1.25em; transition: all 0.3s; margin-top: 30px; letter-spacing: 0.5px;">Book Free Enrollment Session ‚Üí</a>
    </div>
  </div>
  
  <div style="text-align: center; margin-top: 50px; color: var(--text-medium);">
    <p style="font-size: 1.15em; font-weight: 600;">üí° <strong>Pro Tip:</strong> Mix and match classes for a complete learning experience!<br>
    One class per week in multiple subjects equals a well rounded genius in the making</p>
  </div>
</section>

<section class="blog-section alt-bg">
  <div class="blog-header">
    <h2>üë• The Power of Small Group Learning</h2>
    <p>Why we choose 3-6 students over one-on-one tutoring</p>
  </div>
  <div class="blog-grid">
    <div class="blog-image">
      <img src="https://images.unsplash.com/photo-1503676382389-4809596d5290?w=800&q=80" alt="Kids learning together in small group">
    </div>
    <div class="blog-content">
      <h3>Private Tutoring Isn't Always the Answer</h3>
      <p>You'd think one-on-one tutoring would be the gold standard. More attention, personalized pacing, no distractions. But research tells a different story.</p>
      <p><strong>Kids learn better in small groups.</strong> Not large classrooms where they're invisible. Not isolated one-on-one sessions. <strong>The sweet spot is 3 to 6 students.</strong></p>
      <p>Why? Three reasons:</p>
      <ul class="blog-list">
        <li><strong>Peer explanation is powerful.</strong> When a classmate explains a concept, it often clicks better than when an adult does. They use kid language. They remember what confused them five minutes ago.</li>
        <li><strong>Healthy competition drives growth.</strong> Seeing a peer solve a problem motivates kids to try harder. It's not about being "better than" others. It's about rising together.</li>
        <li><strong>Collaboration is a life skill.</strong> One-on-one tutoring doesn't teach teamwork. Small groups do. Kids learn to share ideas, debate solutions, and build on each other's thinking.</li>
      </ul>
      <p><strong>Our approach:</strong> Small enough that every child gets individualized attention and feedback. Large enough that they experience the magic of learning with peers. It's the balance that traditional schools and private tutoring both miss.</p>
    </div>
  </div>
</section>

<style>
.why-us {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
  color: white;
  padding: 100px 5%;
  position: relative;
  overflow: hidden;
}

.why-us::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="%23ffffff" fill-opacity="0.06" d="M0,160L48,144C96,128,192,96,288,106.7C384,117,480,171,576,165.3C672,160,768,96,864,80C960,64,1056,96,1152,122.7C1248,149,1344,171,1392,181.3L1440,192L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>') no-repeat bottom;
  background-size: cover;
}

.why-us .section-header {
  position: relative;
  z-index: 2;
}

.why-us .section-header h2 {
  color: white;
  background: none;
  -webkit-text-fill-color: white;
}

.why-us .section-header p {
  color: rgba(255,255,255,0.95);
}

.features-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 35px;
  max-width: 1300px;
  margin: 0 auto;
  position: relative;
  z-index: 2;
}

.feature-card {
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(15px);
  padding: 35px;
  border-radius: 20px;
  text-align: center;
  transition: all 0.3s;
  border: 2px solid rgba(255, 255, 255, 0.25);
}

.feature-card:hover {
  background: rgba(255, 255, 255, 0.25);
  transform: translateY(-12px);
  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.25);
}

.feature-icon {
  font-size: 3.5em;
  margin-bottom: 20px;
  filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));
}

.feature-card h3 {
  font-size: 1.5em;
  margin-bottom: 15px;
  font-weight: 800;
}

.feature-card p {
  opacity: 0.95;
  line-height: 1.7;
  font-size: 1.05em;
  font-weight: 500;
}
</style>

<section class="why-us">
  <div class="section-header">
    <h2>What Makes STEMSphere Kids Different</h2>
    <p>We're not just another online learning platform. We're building the future</p>
  </div>
  <div class="features-grid">
    <div class="feature-card">
      <div class="feature-icon">üèÜ</div>
      <h3>Award Winning Curriculum</h3>
      <p>Designed by education experts and proven to accelerate learning by 3x</p>
    </div>
    <div class="feature-card">
      <div class="feature-icon">üë•</div>
      <h3>Perfect Group Sizes</h3>
      <p>Small groups of 3 to 6 students for personalized attention with peer learning benefits</p>
    </div>
    <div class="feature-card">
      <div class="feature-icon">üéØ</div>
      <h3>Future Ready Skills</h3>
      <p>Public speaking, critical thinking, STEM mastery. Everything your child needs to lead</p>
    </div>
    <div class="feature-card">
      <div class="feature-icon">‚ö°</div>
      <h3>Results That Matter</h3>
      <p>95% of parents report dramatic confidence improvements in just 12 weeks</p>
    </div>
    <div class="feature-card">
      <div class="feature-icon">üåç</div>
      <h3>Global Community</h3>
      <p>Learn with peers from around the world. Building friendships and cultural awareness</p>
    </div>
    <div class="feature-card">
      <div class="feature-icon">üî•</div>
      <h3>Elite Instructors</h3>
      <p>Top 1% of educators. Passionate, certified, and specialized in young learner success</p>
    </div>
  </div>
</section>

<style>
.ebook-section {
  padding: 100px 5%;
  background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
  position: relative;
}

.ebook-section h2 {
  font-size: clamp(2.5rem, 5vw, 3.5rem);
  text-align: center;
  margin-bottom: 1.5rem;
  background: linear-gradient(135deg, #FFD700, #FFA500);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  font-weight: 800;
}

.ebook-section p.intro {
  text-align: center;
  max-width: 900px;
  margin: 0 auto 4rem;
  font-size: 1.3rem;
  color: rgba(255,255,255,0.9);
  line-height: 1.8;
  font-weight: 500;
}

.download-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(340px, 1fr));
  gap: 3rem;
  max-width: 1100px;
  margin: 0 auto;
  padding: 0 1rem;
}

.ebook-card {
  background: rgba(255,255,255,0.08);
  backdrop-filter: blur(15px);
  border: 2px solid rgba(255,255,255,0.15);
  border-radius: 20px;
  padding: 2.5rem;
  text-align: center;
  transition: all 0.3s;
  position: relative;
  overflow: hidden;
}

.ebook-card:hover {
  transform: translateY(-15px);
  border-color: #00c6ff;
  box-shadow: 0 25px 50px rgba(0,198,255,0.5);
}

.ebook-card img {
  width: 100%;
  max-width: 220px;
  height: auto;
  margin: 0 auto 2rem;
  border-radius: 12px;
  box-shadow: 0 12px 30px rgba(0,0,0,0.4);
}

.ebook-card h3 {
  color: #FFD700;
  font-size: 1.7rem;
  margin: 1.2rem 0;
  font-weight: 800;
}

.ebook-card p {
  color: rgba(255,255,255,0.85);
  font-size: 1.1rem;
  line-height: 1.7;
  margin-bottom: 2rem;
  font-weight: 500;
}

.ebook-card .ebook-button {
  display: inline-block;
  background: linear-gradient(135deg, #00c853, #00e676);
  color: #fff;
  padding: 1rem 2.5rem;
  border-radius: 10px;
  text-decoration: none;
  font-weight: 800;
  font-size: 1.15rem;
  transition: all 0.3s;
  box-shadow: 0 6px 20px rgba(0,200,83,0.5);
  letter-spacing: 0.5px;
}

.ebook-card .ebook-button:hover {
  transform: translateY(-3px);
  box-shadow: 0 10px 30px rgba(0,200,83,0.7);
}

.free-badge {
  position: absolute;
  top: 20px;
  right: 20px;
  background: #ff0000;
  color: #fff;
  padding: 0.6rem 1.2rem;
  font-weight: 800;
  font-size: 1.05rem;
  border-radius: 50px;
  box-shadow: 0 6px 20px rgba(255,0,0,0.6);
  animation: pulse 2s infinite;
  letter-spacing: 0.5px;
}
</style>

<section class="ebook-section">
  <h2>üìö Free Learning Resources</h2>
  <p class="intro">Download our expertly crafted eBooks designed to help you excel in STEM subjects and prepare for college success. These guides contain proven strategies used by top students worldwide.</p>
  
  <div class="download-grid">
    <div class="ebook-card">
      <div class="free-badge">FREE!</div>
      <img src="https://i.postimg.cc/s24NgxkN/gemini-2-5-flash-image-preview-nano-banana-i-need-an-ebook-cove-2.png" alt="STEM Study System eBook" loading="lazy">
      <h3>The STEM Student's Secret Study System</h3>
      <p>Master math and science with proven techniques from top students. Learn the 3 step formula for acing exams.</p>
      <a href="https://books.stemsphere.academy" class="ebook-button">Download Free</a>
    </div>

    <div class="ebook-card">
      <div class="free-badge">FREE!</div>
      <img src="https://i.postimg.cc/N03SnR7V/ergh.png" alt="College Prep Secrets eBook" loading="lazy">
      <h3>College Prep Secrets for Parents</h3>
      <p>The insider's guide to preparing your teen for college. Learn what schools don't tell you about admissions and scholarships.</p>
      <a href="https://books.stemsphere.academy" class="ebook-button">Download Free</a>
    </div>
  </div>
</section>

<section class="blog-section alt-bg">
  <div class="blog-header">
    <h2>üßÆ The Math Confidence Crisis</h2>
    <p>Why "I'm just not a math person" is the most dangerous belief a child can have</p>
  </div>
  <div class="blog-grid reverse">
    <div class="blog-image">
      <img src="https://images.unsplash.com/photo-1596496050827-8299e0220de1?w=800&q=80" alt="Kids solving math problems together">
    </div>
    <div class="blog-content">
      <h3>Math Anxiety Starts Young But It Doesn't Have To</h3>
      <p>Here's the truth: <strong>There's no such thing as a "math person" or "not a math person."</strong> Math is a skill. And like any skill, it improves with the right approach, encouragement, and practice.</p>
      <p>But somewhere around 2nd or 3rd grade, many kids decide they're "bad at math." One bad test. One moment of confusion. One time nobody explained it in a way that clicked. And suddenly, they've internalized a belief that will limit them for life.</p>
      <ul class="blog-list">
        <li>We use games, puzzles, and real world scenarios to make math engaging</li>
        <li>Small groups mean no child falls behind or feels "dumb" for asking questions</li>
        <li>We celebrate mistakes as learning opportunities, not failures</li>
        <li>Mental math strategies that make kids feel like mathematical wizards</li>
      </ul>
      <p><strong>Within weeks, parents tell us:</strong> "My child who hated math now asks for extra practice problems." That's not magic. That's what happens when learning is fun, supportive, and paced perfectly for each child.</p>
    </div>
  </div>
</section>

<style>
.promo-box {
  background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
  padding: 50px;
  border-radius: 25px;
  text-align: center;
  margin: 80px auto;
  max-width: 1000px;
  box-shadow: 0 15px 50px rgba(255,165,0,0.4);
  border: 3px solid rgba(255,215,0,0.5);
}

.promo-box h3 {
  font-size: 2.5em;
  margin-bottom: 20px;
  color: var(--text-dark);
  font-weight: 800;
}

.promo-box p {
  font-size: 1.25em;
  margin-bottom: 30px;
  color: var(--text-dark);
  font-weight: 600;
  line-height: 1.7;
}

.promo-box a {
  display: inline-block;
  padding: 20px 50px;
  background: var(--text-dark);
  color: white;
  text-decoration: none;
  border-radius: 50px;
  font-weight: 800;
  font-size: 1.2em;
  transition: all 0.3s;
  letter-spacing: 0.5px;
}

.promo-box a:hover {
  transform: translateY(-5px);
  box-shadow: 0 15px 40px rgba(0,0,0,0.3);
}
</style>

<div class="promo-box">
  <h3>üéì Looking for Something Different?</h3>
  <p><strong>Is your child older than 10?</strong> Or interested in <strong>1 on 1 personalized tutoring?</strong><br>
  We have comprehensive programs for teens and adults with private instruction options!</p>
  <a href="https://www.stemsphere.academy">
    Explore Our Full Programs ‚Üí
  </a>
</div>

<style>
.final-cta {
  background: linear-gradient(135deg, var(--accent-orange) 0%, #ff8b56 100%);
  color: white;
  padding: 100px 5%;
  text-align: center;
  position: relative;
  overflow: hidden;
}

.final-cta::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="%23ffffff" fill-opacity="0.1" d="M0,96L48,112C96,128,192,160,288,160C384,160,480,128,576,122.7C672,117,768,139,864,154.7C960,171,1056,181,1152,165.3C1248,149,1344,107,1392,85.3L1440,64L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>') no-repeat bottom;
  background-size: cover;
}

.final-cta-content {
  max-width: 900px;
  margin: 0 auto;
  position: relative;
  z-index: 2;
}

.final-cta h2 {
  font-size: 3em;
  margin-bottom: 25px;
  font-weight: 800;
  letter-spacing: -0.5px;
}

.final-cta p {
  font-size: 1.3em;
  margin-bottom: 40px;
  opacity: 0.98;
  line-height: 1.7;
  font-weight: 600;
}

.final-cta-buttons {
  display: flex;
  gap: 25px;
  justify-content: center;
  flex-wrap: wrap;
}

.final-cta-buttons a {
  padding: 22px 50px;
  border-radius: 50px;
  text-decoration: none;
  font-weight: 800;
  font-size: 1.2em;
  transition: all 0.3s;
  display: inline-block;
  background: white;
  color: var(--accent-orange);
  letter-spacing: 0.5px;
}

.final-cta-buttons a:hover {
  transform: translateY(-5px);
  box-shadow: 0 15px 40px rgba(255,255,255,0.4);
}
</style>

<section class="final-cta">
  <div class="final-cta-content">
    <h2>üöÄ Ready to Transform Your Child's Future?</h2>
    <p>Join hundreds of families who've discovered the STEMSphere difference.<br>
    Limited spots available. Classes fill up fast!</p>
    <div class="final-cta-buttons">
      <a href="https://learn.stemsphere.academy/login.html">
        Book Free Enrollment Session
      </a>
    </div>
  </div>
</section>

<style>
footer {
  background: linear-gradient(135deg, #0f0c29, #16213e);
  color: rgba(255,255,255,0.75);
  text-align: center;
  padding: 3rem 1rem;
  font-size: 1em;
}

footer p {
  margin: 0.5rem 0;
}

.footer-links {
  margin: 1.5rem 0;
}

.footer-links a,
.footer-contact a {
  color: #00dffc;
  text-decoration: none;
  margin: 0 1rem;
  transition: color 0.3s;
  font-weight: 600;
}

.footer-links a:hover,
.footer-contact a:hover {
  color: #fff;
  text-decoration: underline;
}
</style>

<footer>
  <p>¬© 2025 STEMSphere Academy. All rights reserved.</p>
  <nav class="footer-links">
    <a href="#faq-contact">FAQs</a> |
    <a href="/privacy.html">Privacy Policy</a> |
    <a href="https://www.facebook.com/STEMxSphere" target="_blank">Facebook</a>
  </nav>
  <p class="footer-contact">
    Need help? Contact us at 
    <a href="mailto:support@stemsphere.academy">support@stemsphere.academy</a>
  </p>
</footer>

<script defer src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
window.addEventListener('load', function() {

const SUPABASE_URL = 'https://horqtcwnhwgodwlyqhli.supabase.co';
const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhvcnF0Y3duaHdnb2R3bHlxaGxpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NjAyNzEsImV4cCI6MjA3NTMzNjI3MX0.4rYzW6MFEkVVqLor55RuFGLwE6WBJrYLxvYbgeXXRGU';

const { createClient } = supabase;
const supabaseClient = createClient(SUPABASE_URL, SUPABASE_KEY);

async function checkAdvisorAvailability() {
  try {
    const { data: advisors, error } = await supabaseClient
      .from('profiles')
      .select('id, full_name, advisor_available')
      .eq('role', 'teacher')
      .eq('is_advisor', true)
      .eq('advisor_available', true);

    const chatWrapper = document.getElementById('liveChatWrapper');
    const statusIndicator = document.getElementById('advisorStatusIndicator');
    
    if (advisors && advisors.length > 0) {
      if (chatWrapper) chatWrapper.style.display = 'block';
      if (statusIndicator) statusIndicator.style.display = 'block';
    } else {
      if (chatWrapper) chatWrapper.style.display = 'none';
      if (statusIndicator) statusIndicator.style.display = 'none';
    }
  } catch (error) {
    console.error('Error checking advisors:', error);
  }
}

window.openAnonymousAdvisorChat = function() {
  window.location.href = 'https://learn.stemsphere.academy/instant-session.html';
}

checkAdvisorAvailability();
setInterval(checkAdvisorAvailability, 30000);

(async () => {
  const CACHE_KEY = 'stemsphere_reviews_cache';
  const CACHE_DURATION = 24 * 60 * 60 * 1000;
  
  const cachedData = localStorage.getItem(CACHE_KEY);
  let reviews = [];
  
  if (cachedData) {
    try {
      const parsed = JSON.parse(cachedData);
      const now = new Date().getTime();
      
      if (now - parsed.timestamp < CACHE_DURATION) {
        reviews = parsed.reviews;
      }
    } catch (e) {
      console.log('Cache error');
    }
  }
  
  if (reviews.length === 0) {
    try {
      const csvUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRSWqhCcu_XZW7SW5uZ3UZdKzvLm2zNw8DvMZV2TD_gcts6K-DBrLwd88pnXVn0xl0fxRRfGW0Y4iyN/pub?output=csv';
      const res = await fetch(csvUrl);
      const text = await res.text();
      const rows = text.trim().split('\n').slice(1).map(r =>
        r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/).map(c => c.replace(/^"|"$/g, ''))
      );

      reviews = rows
        .filter(r => {
          const name = (r[0] || "").toLowerCase();
          const textVal = (r[1] || "").toLowerCase();
          return (
            r[2] &&
            !name.includes("facebook") &&
            !textVal.includes("facebook")
          );
        })
        .sort((a, b) => new Date(b[3]) - new Date(a[3]));
      
      localStorage.setItem(CACHE_KEY, JSON.stringify({
        timestamp: new Date().getTime(),
        reviews: reviews
      }));
    } catch (error) {
      console.error('Error fetching reviews:', error);
      return;
    }
  }

  if (!reviews.length) return;

  const formUrl = 'https://docs.google.com/forms/d/e/1FAIpQLSd0lD5dU8nsUbBzfqqRkLflTkJVrAQyvZXI81uXXyOPXpoUdA/viewform?usp=header';
  const avg = (reviews.reduce((sum, r) => sum + (parseFloat(r[2])||0), 0) / reviews.length).toFixed(1);
  const count = reviews.length;

  const wrapper = document.createElement('div');
  wrapper.innerHTML = `
    <div style="margin-bottom:0.8em;">
      <span style="background:#007bff; color:#fff; padding:0.4em 1em; border-radius:20px; font-size:0.95em; font-weight:bold; display:inline-block;">
        4/5 students improve in only 3 weeks!
      </span>
    </div>
    <h3 style="font-weight:600; margin:0.6em 0; color: var(--primary-purple);">
      <span style="color:#FFD700; font-size:1.2em;">‚òÖ</span>
      ${avg} (${count} review${count>1?'s':''})
    </h3>
    <div style="margin:1em 0; display:flex; justify-content:center; gap:1.5em;">
      <button id="toggle-reviews" style="background:none; border:none; color: var(--primary-purple); cursor:pointer; font-size:0.95em; text-decoration:underline;">
        See all reviews
      </button>
      <button id="submit-review" style="background:none; border:none; color: var(--primary-purple); cursor:pointer; font-size:0.95em; text-decoration:underline;">
        Submit a review
      </button>
    </div>
    <div id="reviews-body" style="margin-top:1.2em; display:none; text-align:left;"></div>
  `;
  document.getElementById('reviews-container').appendChild(wrapper);

  const reviewsBody = wrapper.querySelector('#reviews-body');
  let currentIndex = 0;
  const batchSize = 20;

  const seeMoreBtn = document.createElement('button');
  seeMoreBtn.textContent = 'See more reviews';
  seeMoreBtn.style.cssText = "background:none; border:none; color: var(--primary-purple); cursor:pointer; font-size:0.95em; margin-top:1em; display:block; text-decoration:underline;";
  seeMoreBtn.addEventListener('click', renderNextBatch);

  function renderNextBatch() {
    const slice = reviews.slice(currentIndex, currentIndex + batchSize);
    slice.forEach(r => {
      const reply = (r[5] || "").trim();
      const div = document.createElement('div');
      div.style.marginBottom = '1.5em';
      div.innerHTML = `
        <strong style="color: var(--text-dark);">${r[0]||'Anonymous'}</strong>
        ${'‚òÖ'.repeat(+r[2]).padEnd(5,'‚òÜ')
          .replace(/‚òÖ/g, '<span style="color:#FFD700;">‚òÖ</span>')
          .replace(/‚òÜ/g, '<span style="color:#ccc;">‚òÖ</span>')}<br>
        <small style="color: var(--text-light);">${new Date(r[3]).toLocaleDateString()}</small>
        <p style="margin:0.4em 0 0; color: var(--text-medium); line-height:1.4;">${r[1]}</p>
        ${reply ? `
          <div style="margin-left:1em; margin-top:0.3em;">
            <div style="font-size:0.85em; color: var(--primary-purple); margin-bottom:0.2em; font-weight:600;">Instructor Reply:</div>
            <div style="font-size:0.85em; color: var(--text-medium); font-style:italic;">${reply}</div>
          </div>` : ''}
      `;
      reviewsBody.appendChild(div);
    });
    currentIndex += batchSize;

    if (currentIndex < reviews.length) {
      if (reviewsBody.contains(seeMoreBtn)) {
        reviewsBody.removeChild(seeMoreBtn);
      }
      reviewsBody.appendChild(seeMoreBtn);
    } else {
      seeMoreBtn.remove();
    }
  }

  wrapper.querySelector('#toggle-reviews').addEventListener('click', e => {
    const show = reviewsBody.style.display === 'block';
    reviewsBody.style.display = show ? 'none' : 'block';
    e.target.textContent = show ? 'See all reviews' : 'Hide reviews';
    if (!show && currentIndex === 0) {
      renderNextBatch();
    }
  });

  wrapper.querySelector('#submit-review').addEventListener('click', ()=> window.open(formUrl, '_blank'));
})();

function adjustCookieBannerForMobile() {
  const isMobile = window.innerWidth <= 768;
  const banner = document.getElementById('cookieConsentBanner');
  const fullText = document.getElementById('cookieFullText');
  const mobileText = document.getElementById('cookieMobileText');
  const buttons = document.getElementById('cookieButtons');
  
  if (isMobile) {
    banner.style.padding = '0.5rem 0.75rem';
    fullText.style.display = 'none';
    mobileText.style.display = 'block';
    buttons.querySelectorAll('button').forEach(btn => {
      btn.style.padding = '0.4rem 0.8rem';
      btn.style.fontSize = '0.75em';
    });
  } else {
    banner.style.padding = '0.75rem';
    fullText.style.display = 'block';
    mobileText.style.display = 'none';
    buttons.querySelectorAll('button').forEach((btn, idx) => {
      if (idx === 0 || idx === 1) {
        btn.style.padding = '0.5rem 1.25rem';
      } else {
        btn.style.padding = '0.5rem 1rem';
      }
      btn.style.fontSize = '0.8em';
    });
  }
}

document.getElementById('analyticsCookies').addEventListener('change', function() {
  const toggle = document.getElementById('analyticsToggle');
  const slider = document.getElementById('analyticsSlider');
  if (this.checked) {
    toggle.style.background = '#667eea';
    slider.style.transform = 'translateX(30px)';
  } else {
    toggle.style.background = '#ccc';
    slider.style.transform = 'translateX(0)';
  }
});

document.getElementById('marketingCookies').addEventListener('change', function() {
  const toggle = document.getElementById('marketingToggle');
  const slider = document.getElementById('marketingSlider');
  if (this.checked) {
    toggle.style.background = '#667eea';
    slider.style.transform = 'translateX(30px)';
  } else {
    toggle.style.background = '#ccc';
    slider.style.transform = 'translateX(0)';
  }
});

const analyticsSlider = document.getElementById('analyticsSlider');
const marketingSlider = document.getElementById('marketingSlider');
if (analyticsSlider) analyticsSlider.style.transform = 'translateX(30px)';
if (marketingSlider) marketingSlider.style.transform = 'translateX(30px)';

function checkCookieConsent() {
  const consent = localStorage.getItem('cookieConsent');
  if (!consent) {
    const isMobile = window.innerWidth <= 768;
    const delay = isMobile ? 10000 : 1000;
    setTimeout(() => {
      adjustCookieBannerForMobile();
      document.getElementById('cookieConsentBanner').style.display = 'block';
    }, delay);
  } else {
    const consentData = JSON.parse(consent);
    if (consentData.analytics) enableAnalytics();
    if (consentData.marketing) enableMarketing();
  }
}

window.addEventListener('resize', () => {
  const banner = document.getElementById('cookieConsentBanner');
  if (banner.style.display === 'block') {
    adjustCookieBannerForMobile();
  }
});

window.acceptAllCookies = function() {
  const consent = {
    essential: true,
    analytics: true,
    marketing: true,
    timestamp: new Date().toISOString()
  };
  localStorage.setItem('cookieConsent', JSON.stringify(consent));
  document.getElementById('cookieConsentBanner').style.display = 'none';
  enableAnalytics();
  enableMarketing();
}

window.rejectCookies = function() {
  const consent = {
    essential: true,
    analytics: false,
    marketing: false,
    timestamp: new Date().toISOString()
  };
  localStorage.setItem('cookieConsent', JSON.stringify(consent));
  document.getElementById('cookieConsentBanner').style.display = 'none';
}

window.openCookieSettings = function() {
  document.getElementById('cookieConsentBanner').style.display = 'none';
  document.getElementById('cookieSettingsModal').style.display = 'flex';
}

window.closeCookieSettings = function() {
  document.getElementById('cookieSettingsModal').style.display = 'none';
  if (!localStorage.getItem('cookieConsent')) {
    adjustCookieBannerForMobile();
    document.getElementById('cookieConsentBanner').style.display = 'block';
  }
}

window.saveCustomCookieSettings = function() {
  const analytics = document.getElementById('analyticsCookies').checked;
  const marketing = document.getElementById('marketingCookies').checked;
  
  const consent = {
    essential: true,
    analytics: analytics,
    marketing: marketing,
    timestamp: new Date().toISOString()
  };
  
  localStorage.setItem('cookieConsent', JSON.stringify(consent));
  document.getElementById('cookieSettingsModal').style.display = 'none';
  
  if (analytics) enableAnalytics();
  if (marketing) enableMarketing();
}

window.acceptAllFromSettings = function() {
  document.getElementById('analyticsCookies').checked = true;
  document.getElementById('marketingCookies').checked = true;
  
  document.getElementById('analyticsToggle').style.background = '#667eea';
  document.getElementById('analyticsSlider').style.transform = 'translateX(30px)';
  document.getElementById('marketingToggle').style.background = '#667eea';
  document.getElementById('marketingSlider').style.transform = 'translateX(30px)';
  
  saveCustomCookieSettings();
}

function enableAnalytics() {
  console.log('Analytics enabled');
}

function enableMarketing() {
  console.log('Marketing enabled');
}

setTimeout(function() {
  (async function() {
    let visitorId = localStorage.getItem('visitor_id');
    if (!visitorId) {
      visitorId = 'visitor_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
      localStorage.setItem('visitor_id', visitorId);
    }

    async function trackVisitor() {
      try {
        let locationData = { country: 'Unknown', city: 'Unknown', ip: 'Unknown' };
        try {
          const response = await fetch('https://ipapi.co/json/');
          if (response.ok) {
            locationData = await response.json();
          }
        } catch (e) {
          console.log('Location lookup failed');
        }

        const visitorData = {
          visitor_id: visitorId,
          page_url: window.location.href,
          ip_address: locationData.ip || 'Unknown',
          city: locationData.city || null,
          country: locationData.country_name || locationData.country || null,
          last_seen: new Date().toISOString()
        };

        const { error } = await supabaseClient
          .from('live_visitors')
          .upsert(visitorData, { 
            onConflict: 'visitor_id',
            ignoreDuplicates: false 
          });

        if (error) {
          console.error('Visitor tracking error:', error);
        }
      } catch (err) {
        console.error('Tracking failed:', err);
      }
    }

    await trackVisitor();
    setInterval(trackVisitor, 30000);

    window.addEventListener('beforeunload', () => {
      navigator.sendBeacon(
        `${SUPABASE_URL}/rest/v1/live_visitors?visitor_id=eq.${visitorId}`,
        JSON.stringify({ last_seen: new Date().toISOString() })
      );
    });
  })();
}, 30000);

checkCookieConsent();

});
</script>

</body>
</html>
